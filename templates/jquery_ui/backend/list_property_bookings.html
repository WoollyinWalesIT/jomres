<patTemplate:tmpl name="pageoutput">
<script type="text/javascript">
	<!--
	jomresJquery(document).ready(function () {
		var oTable = jomresJquery('#showLiveBookings').dataTable({
			"sDom": '<"H"lCfr>t<"F"ip>',
			"bJQueryUI": true,
			"bStateSave": true,
			"sPaginationType": "full_numbers",
			"bProcessing": true,
			"bServerSide": true,
			"sAjaxSource": '{AJAX_URL}',
			"oColVis": {
				"aiExclude": [ 0 ],
				"bRestore": false
			}
		}).fnSetFilteringDelay().dataTableSetHiddenColumns();
	});
	/* Filtering delay */
	if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
		jomresJquery.fn.dataTableExt.oApi.fnSetFilteringDelay = function ( oSettings, iDelay ) {
			var _that = this;
		 
			if ( iDelay === undefined ) {
				iDelay = 750;
			}
			  
			this.each( function ( i ) {
				jomresJquery.fn.dataTableExt.iApiIndex = i;
				var
					$this = this,
					oTimerId = null,
					sPreviousSearch = null,
					anControl = jomresJquery( 'input', _that.fnSettings().aanFeatures.f );
				  
					anControl.unbind( 'keyup' ).bind( 'keyup', function() {
					var $$this = $this;
		  
					if (sPreviousSearch === null || sPreviousSearch != anControl.val()) {
						window.clearTimeout(oTimerId);
						sPreviousSearch = anControl.val(); 
						oTimerId = window.setTimeout(function() {
							jomresJquery.fn.dataTableExt.iApiIndex = i;
							_that.fnFilter( anControl.val() );
						}, iDelay);
					}
				});
				  
				return this;
			} );
			return this;
		};
	};
	/* Hide columns*/
	if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
		jomresJquery.fn.dataTableExt.oApi.dataTableSetHiddenColumns = function ()
			{
			var oTable = jomresJquery('#showLiveBookings').dataTable();
			column_ids = new Array(1,3,8,9,10,11,12,13,14,15,16,17,18);
			jomresJquery.each(column_ids, function(i) {
				oTable.fnSetColumnVis( column_ids[i], false, false );
				});
			};
	};
	//-->
</script>
<h2>{PAGETITLE}</h2>
<table width="100%" border="0" id="showLiveBookings">
	<thead>
		<tr>
			<th>{_JOMRES_COM_MR_EDITBOOKINGTITLE}</th>
			<th>{HCONTRACT_UID}</th>
			<th>{_JOMRES_BOOKING_NUMBER}</th>
			<th>{HPROPERTY_NAME}</th>
			<th>{ARRIVAL}</th>
			<th>{DEPARTURE}</th>
			<th>{_JOMRES_COM_MR_VIEWBOOKINGS_FIRSTNAME}</th>
			<th>{_JOMRES_COM_MR_VIEWBOOKINGS_SURNAME}</th>
			<th>{HGUEST_LANDLINE}</th>
			<th>{HGUEST_MOBILE}</th>
			<th>{_JOMRES_COM_MR_VIEWBOOKINGS_EMAIL}</th>
			<th>{HCONTRACT_TOTAL}</th>
			<th>{HDEPOSIT_REQUIRED}</th>
			<th>{HDEPOSIT_STATUS}</th>
			<th>{HSPECIAL_REQS}</th>
			<th>{HINVOICE_UID}</th>
			<th>{HTIMESTAMP}</th>
			<th>{HLASTCHANGED}</th>
			<th>{HAPPROVED}</th>
			<th>{HMADE_BY}</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
<h5>{HLEGEND} ({_JOMRES_BOOKING_NUMBER})</h5>
<span class="label label-grey">{TEXT_PENDING}</span>
<span class="label label-orange">{TEXT_ARRIVETODAY}</span>
<span class="label label-green">{TEXT_RESIDENT}</span>
<span class="label label-red">{TEXT_LATE}</span>
<span class="label label-blue">{TEXT_DEPARTTODAY}</span>
<span class="label label-purple">{TEXT_STILLHERE}</span>
<span class="label label-teal">{TEXT_BOOKEDOUT}</span>
<span class="label label-black">{TEXT_CANCELLED}</span>
</patTemplate:tmpl>