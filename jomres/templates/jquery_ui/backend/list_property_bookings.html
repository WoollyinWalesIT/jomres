<patTemplate:tmpl name="pageoutput">
	<script type="text/javascript">
		<!--
		jomresJquery(document).ready(function () {
			var oTable = jomresJquery('#showLiveBookings').dataTable({
				"bJQueryUI": true,
				"bStateSave": true,
				"sPaginationType": "full_numbers",
				"bProcessing": true,
				"bServerSide": true,
				"sAjaxSource": '{AJAX_URL}'
			}).fnSetFilteringDelay().dataTableSetHiddenColumns();
		});
		/* Filtering delay */
		if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
			jomresJquery.fn.dataTableExt.oApi.fnSetFilteringDelay = function ( oSettings, iDelay ) {
				var _that = this;
			 
				if ( iDelay === undefined ) {
					iDelay = 750;
				}
				  
				this.each( function ( i ) {
					jomresJquery.fn.dataTableExt.iApiIndex = i;
					var
						$this = this,
						oTimerId = null,
						sPreviousSearch = null,
						anControl = jomresJquery( 'input', _that.fnSettings().aanFeatures.f );
					  
						anControl.unbind( 'keyup' ).bind( 'keyup', function() {
						var $$this = $this;
			  
						if (sPreviousSearch === null || sPreviousSearch != anControl.val()) {
							window.clearTimeout(oTimerId);
							sPreviousSearch = anControl.val(); 
							oTimerId = window.setTimeout(function() {
								jomresJquery.fn.dataTableExt.iApiIndex = i;
								_that.fnFilter( anControl.val() );
							}, iDelay);
						}
					});
					  
					return this;
				} );
				return this;
			};
		};
		/* Hide columns*/
		if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
			jomresJquery.fn.dataTableExt.oApi.dataTableSetHiddenColumns = function ()
				{
				var oTable = jomresJquery('#showLiveBookings').dataTable();
				column_ids = new Array(1,3,8,9,10,11,12,13,14,15,16);
				jomresJquery.each(column_ids, function(i) {
					oTable.fnSetColumnVis( column_ids[i], false, false );
					});
				};
		};
		//-->
	</script>
	<h2>{PAGETITLE}</h2>
	<table width="100%" border="0" class="ui-widget-content ui-corner-all">
		<tr>
			<td><img src="{IMG_PENDING}" border="0"/></td>
			<td>{TEXT_PENDING}</td>
			<td><img src="{IMG_ARRIVETODAY}" border="0"/></td>
			<td>{TEXT_ARRIVETODAY}</td>
			<td><img src="{IMG_RESIDENT}" border="0"/></td>
			<td>{TEXT_RESIDENT}</td>
		</tr>
		<tr>
			<td><img src="{IMG_LATE}" border="0"/></td>
			<td>{TEXT_LATE}</td>
			<td><img src="{IMG_DEPARTTODAY}" border="0"/></td>
			<td>{TEXT_DEPARTTODAY}</td>
			<td><img src="{IMG_STILLHERE}" border="0"/></td>
			<td>{TEXT_STILLHERE}</td>
		</tr>
	</table>
	<br/>
	<table width="100%" border="0" id="showLiveBookings">
		<thead>
			<tr>
				<th>{_JOMRES_COM_MR_EDITBOOKINGTITLE}</th>
				<th>{HCONTRACT_UID}</th>
				<th>{_JOMRES_BOOKING_NUMBER}</th>
				<th>{HPROPERTY_NAME}</th>
				<th>{ARRIVAL}</th>
				<th>{DEPARTURE}</th>
				<th>{_JOMRES_COM_MR_VIEWBOOKINGS_FIRSTNAME}</th>
				<th>{_JOMRES_COM_MR_VIEWBOOKINGS_SURNAME}</th>
				<th>{HGUEST_LANDLINE}</th>
				<th>{HGUEST_MOBILE}</th>
				<th>{_JOMRES_COM_MR_VIEWBOOKINGS_EMAIL}</th>
				<th>{HCONTRACT_TOTAL}</th>
				<th>{HDEPOSIT_REQUIRED}</th>
				<th>{HDEPOSIT_STATUS}</th>
				<th>{HSPECIAL_REQS}</th>
				<th>{HINVOICE_UID}</th>
				<th>{HTIMESTAMP}</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</patTemplate:tmpl>