<patTemplate:tmpl name="pageoutput" unusedvars="strip">
<script type="text/javascript">
	<!--
	jomresJquery(document).ready(function () {
		var oTable = jomresJquery('#frontend_list_properties').dataTable({
			"sDom": '<"H"lCfr>t<"F"ip>',
			"bJQueryUI": true,
			"bStateSave": true,
			"sPaginationType": "full_numbers",
			"bProcessing": true,
			"bServerSide": true,
			"sAjaxSource": '{AJAX_URL}',
			"oColVis": {
				"aiExclude": [ 0 ],
				"bRestore": false
			}
		}).fnSetFilteringDelay().dataTableSetHiddenColumns();
	});
	/* Filtering delay */
	if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
		jomresJquery.fn.dataTableExt.oApi.fnSetFilteringDelay = function ( oSettings, iDelay ) {
			var _that = this;
		 
			if ( iDelay === undefined ) {
				iDelay = 750;
			}
			  
			this.each( function ( i ) {
				jomresJquery.fn.dataTableExt.iApiIndex = i;
				var
					$this = this,
					oTimerId = null,
					sPreviousSearch = null,
					anControl = jomresJquery( 'input', _that.fnSettings().aanFeatures.f );
				  
					anControl.unbind( 'keyup' ).bind( 'keyup', function() {
					var $$this = $this;
		  
					if (sPreviousSearch === null || sPreviousSearch != anControl.val()) {
						window.clearTimeout(oTimerId);
						sPreviousSearch = anControl.val(); 
						oTimerId = window.setTimeout(function() {
							jomresJquery.fn.dataTableExt.iApiIndex = i;
							_that.fnFilter( anControl.val() );
						}, iDelay);
					}
				});
				  
				return this;
			} );
			return this;
		};
	};
	/* Hide columns*/
	if ('undefined' != typeof(jomresJquery.fn.dataTableExt )) {
		jomresJquery.fn.dataTableExt.oApi.dataTableSetHiddenColumns = function ()
			{
			var oTable = jomresJquery('#frontend_list_properties').dataTable();
			column_ids = new Array(1,3,5,6,8,9,10,11,12,13,14,15);
			jomresJquery.each(column_ids, function(i) {
				oTable.fnSetColumnVis( column_ids[i], false, false );
				});
			};
	};
	//-->
</script>
	
<patTemplate:tmpl name="subs" unusedvars="strip" type="simpleCondition" requiredVars="subscription_status">
<br />
<p class="ui-state-highlight">{SUBSCRIPTION_STATUS}</p>
</patTemplate:tmpl>

<h2>{PAGETITLE}</h2>
<table id="frontend_list_properties" width="100%" border="0" class="ui-widget-content ui-corner-all">
	<thead>
		<tr>
			<th>{COMMON_ACTION}</th>
			<th>{HPROPERTYUID}</th>
			<th>{HPROPERTYNAME}</th>
			<th>{HPROPERTY_STREET}</th>
			<th>{HPROPERTY_TOWN}</th>
			<th>{HPROPERTY_REGION}</th>
			<th>{HPROPERTY_POSTCODE}</th>
			<th>{HPROPERTY_COUNTRY}</th>
			<th>{HPROPERTY_TEL}</th>
			<th>{HPROPERTY_FAX}</th>
			<th>{HPROPERTY_EMAIL}</th>
			<th>{HPROPERTY_STARS}</th>
			<th>{HPROPERTY_SUPERIOR}</th>
			<th>{HPROPERTY_LAT}</th>
			<th>{HPROPERTY_LONG}</th>
			<th>{HAPPROVED}</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
<h5>{HLEGEND}</h5>
<span class="label label-blue">{HACTIVE}</span>
</patTemplate:tmpl>